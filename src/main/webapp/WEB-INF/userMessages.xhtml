<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:body>
        <ui:composition template="templates/common.xhtml">
            <ui:define name="content">
                <section class="user-messages">
                    <div class="container">
                        <div class="row">
                            <div class="col-xs-12">
                                <h3 class="user-messages-header"><i class="fa fa-envelope" aria-hidden="true"></i> Messages</h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                                    tempor incididunt ut labore et dolore magna aliqua.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">

                                <c:forEach begin="0" end="${messagesAmount}" items="${messages}" var="message" varStatus="status">
                                    <c:choose>
                                        <c:when test="${status.count % 2 eq 1}">
                                            <c:choose>
                                                <c:when test="${message.isReaded}">
                                                    <a href="/JobFinder/account/messages/${message.id}" title="${message.content}" class="message-link">
                                                        <div class="row odd message readed">
                                                            <div class="col-xs-2 col-sm-1 message-col-icon">
                                                                <span class="user-messages-icon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                                                            </div>
                                                            <div class="col-xs-10 col-sm-11 col-md-8 message-col-message">
                                                                <span class="user-messages-message">${message.content}</span>
                                                            </div>
                                                            <div class="col-md-3 hidden-xs hidden-sm message-col-date">
                                                                <span class="user-messages-date">${message.date}</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </c:when>
                                                <c:otherwise>
                                                    <a href="/JobFinder/account/messages/${message.id}" title="${message.content}" class="message-link">
                                                        <div class="row odd message">
                                                            <div class="col-xs-2 col-sm-1 message-col-icon">
                                                                <span class="user-messages-icon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                                                            </div>
                                                            <div class="col-xs-10 col-sm-11 col-md-8 message-col-message">
                                                                <span class="user-messages-message">${message.content}</span>
                                                            </div>
                                                            <div class="col-md-3 hidden-xs hidden-sm message-col-date">
                                                                <span class="user-messages-date">${message.date}</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </c:otherwise>
                                            </c:choose>
                                        </c:when>
                                        <c:otherwise>
                                            <c:choose>
                                                <c:when test="${message.isReaded}">
                                                    <a href="/JobFinder/account/messages/${message.id}" title="${message.content}" class="message-link">
                                                        <div class="row even message readed">
                                                            <div class="col-xs-2 col-sm-1 message-col-icon">
                                                                <span class="user-messages-icon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                                                            </div>
                                                            <div class="col-xs-10 col-sm-11 col-md-8 message-col-message">
                                                                <span class="user-messages-message">${message.content}</span>
                                                            </div>
                                                            <div class="col-md-3 hidden-xs hidden-sm message-col-date">
                                                                <span class="user-messages-date">${message.date}</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </c:when>
                                                <c:otherwise>
                                                    <a href="/JobFinder/account/messages/${message.id}" title="${message.content}" class="message-link">
                                                        <div class="row even message">
                                                            <div class="col-xs-2 col-sm-1 message-col-icon">
                                                                <span class="user-messages-icon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                                                            </div>
                                                            <div class="col-xs-10 col-sm-11 col-md-8 message-col-message">
                                                                <span class="user-messages-message">${message.content}</span>
                                                            </div>
                                                            <div class="col-md-3 hidden-xs hidden-sm message-col-date">
                                                                <span class="user-messages-date">${message.date}</span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </c:otherwise>
                                            </c:choose>
                                        </c:otherwise>
                                    </c:choose>
                                </c:forEach>
                                
                            </div>
                        </div>
                    </div>
                </section>
            </ui:define>
        </ui:composition>
    </h:body>
</html>